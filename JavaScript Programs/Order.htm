<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Save Order Details</title>
    <style>
      body {
        background-color: darkslategray;
        color: beige;
        border: 2px solid salmon;
        width: 40%;
        margin: auto;
        padding: 10px;
        font-size: large;
      }
      footer {
        text-align: center;
      }
      input {
        padding: 5px;
        margin-left: 3px;
      }
      h1 {
        color: deeppink;
        text-align: center;
      }
      h2 {
        color: darkmagenta;
        text-align: center;
      }
      table {
        padding: ;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Welcome to My Order App</h1>
    </header>
    <hr />
    <main>
      <section class="myform">
        <form>
          <h2>Order Form</h2>
          <hr />
          <table>
            <tr>
              <td><label for="oid">Order Id</label></td>
              <td>
                <input
                  type="text"
                  id="oid"
                  placeholder="Enter Order Id"
                  required
                />
              </td>
            </tr>
            <tr>
              <td><label for="cname">Custormer Name</label></td>
              <td>
                <input
                  type="text"
                  id="cname"
                  placeholder="Enter Custormer Name"
                  required
                />
              </td>
            </tr>
            <tr>
              <td><label for="bdate">Billing Date</label></td>
              <td>
                <input
                  type="date"
                  id="bdate"
                  placeholder="Enter Billing Date"
                  required
                />
              </td>
            </tr>
            <tr>
              <td><label for="sdate">Shipping date</label></td>
              <td>
                <input
                  type="date"
                  id="sdate"
                  placeholder="Enter Shipping date"
                  required
                />
              </td>
            </tr>
            <tr>
              <td><label for="ototal">Order Total</label></td>
              <td>
                <input
                  type="text"
                  id="ototal"
                  placeholder="Enter Order Total"
                  required
                />
              </td>
            </tr>
          </table>
          <button type="button" onclick="submitOrder()">Submit</button>
        </form>
      </section>
    </main>
    <hr />
    <footer>
      <p>&lt;&lt;&copy;AJIT CHAVAN&gt;&gt;</p>
    </footer>
    <script>
      function submitOrder() {
        var id = parseInt(document.getElementById("oid").value);
        var cname = document.getElementById("cname").value;
        var bill = document.getElementById("bdate").value;
        var ship = document.getElementById("sdate").value;
        var total = document.getElementById("ototal").value;
        var date1 = new Date(bill).getTime();
        var date2 = new Date(ship).getTime();
        if (cname.length > 5 && date1 <= date2) {
          var order = {
            id,
            cname,
            bill,
            ship,
            total,
          };
          var orderArr = [...orderArr, order]
          var myWindow = window.open(
            "",
            "OrderDetails",
            "width=500,height="
          );
          myWindow.document.write("<table border = '1'>");
          myWindow.document.write("<thead>");
          myWindow.document.write("<tr>");
          myWindow.document.write("<th>Id</th>");
          myWindow.document.write("<th>Name</th>");
          myWindow.document.write("<th>Bill_Date</th>");
          myWindow.document.write("<th>Shipiing_Date</th>");
          myWindow.document.write("<th>Total</th>");
          myWindow.document.write("</tr>");
          myWindow.document.write("</thead>");

          for (var i = 0; i < orderArr.length; i++) {
            myWindow.document.write("<tr>");
            orderArr.map((ele) =>
              myWindow.document.write(
                `<td>${ele.id}</td><td>${ele.cname}</td><td>${ele.bill}</td><td>${ele.ship}</td><td>${ele.total}</td>`
              )
            );
            myWindow.document.write("</tr>");
          }
          myWindow.document.write("</table>");
        } else {
          alert("Please eneter valid data");
        }
      }
    </script>
  </body>
</html>
